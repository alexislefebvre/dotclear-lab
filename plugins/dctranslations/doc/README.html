<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <base href="http://jean-christophe.dubacq.fr/" />
  <title>Plugin dctranslations for Dotclear 2</title>
</head>
<body>
<p>If you want a blog in one language, Dotclear is totally adequate. If you just want to mix in several languages, no special effort, no translation, Dotclear is also fit. If you want to blog in two languages, everything translated, you can also use the multiblog capabilities of Dotclear and simply make two different blogs.</p>
<p>But, if you want to make some real bilingual content (incrementally or all at once), linking articles in several languages between them, allowing bilingual readers to jump from one language to the other, while displaying a maximum of elements in each visitor's language (the navigation indications, and if an article exists in several languages, the one preferred by the reader), then, this plugin dctranslations is made for you to build your multilingual site.</p>
<hr class="separator" />
<p class="pluginlocation">The maintenance page for this plugin is located at this address: <a href="/post/dctranslations">http://jean-christophe.dubacq.fr/post/dctranslations</a>.</p>
<h3>Installation</h3>
<p>Use the zipped file attached to the maintenance page. The
administration area is in Blog &gt; Translations. The language of the
blog must be put to a blank value (it is done automatically when an
administrator visits the blog parameters' page and saves the results; it
is important to also visit the Translations parameters page to set the
acceptable languages and the fallback language). We insist: the plugin
will not function correctly as long as the language is not the empty
string (one can check in Extensions &gt; about:config).</p>
<p>This plugin adds a settings panel in the administration interface to
choose the languages available for the readers that will browse the
site, an interface to translate posts, static pages and another one to
translate small bits of text displayed in the public interface. The translation of the various widgets or other things such as the description of categories is left to other extensions (see below).</p>
<p>This plugin requires the use of the <a href="/post/stacker">stacker</a> plugin, at least version 0.4.</p>
<p>This plugin redefines internal standard codes of Dotclear, it is thus recommended after install to do Extensions -&gt; Maintenance -&gt; Empty templates cache.</p>
<p>The autolocale plugin plays a similar role to this plugin for the change
of the navigation language according to the reader's preferences, but no
finer control is allowed (and no post translation is possible). For a
complete multilingual system, it is recommended that you also install the
last version of the <a href="/post/translatedwidgets">translatedwidgets</a> plugin, as well as the <a href="/post/kezako">kezako</a> plugin.</p>
<p class="version">The current version of this plugin is 1.9 (local svn  372).</p><p class="licence">This plugin is licensed under <a href="http://www.gnu.org/licenses/gpl-2.0.html" hreflang="en">GPL version 2.0</a>.</p>
<h3>Usage</h3>
<h4>Simple user</h4>
<p>When you browse a blog with this extension, Dotclear will automatically
pick up your preferred language (either the last one you chose manually,
or the one set in your browser preferences). If no suitable language is
found, a fallback language was chosen by the blog's author.</p>
<p>You normally can setup your browser so that your preferred languages are
sent in the right order. This page of the W3C organisation points out in
which menu (according to your browser) this setup can take place:
<a href="http://www.w3.org/International/questions/qa-lang-priorities" hreflang="en">http://www.w3.org/International/questions/qa-lang-priorities</a>.
</p>
<p>When a post (or a page) is available in several languages, the preferred
language is presented to you. A widget (which should usually be added to
the site by the author) allows to choose another translation (if a reader
understanding several languages wishes to see another version).</p>
<h4>Simple author</h4>
<p>When you are composing (or editing) a page or a post, a new area
appears below the usual edit area (to make a new translation) each time
you click on the "New translation" button, as well as a new area for
each already entered translation. Each area bears five entry fields:
title, language, excerpt, content, URL (the significance of each of
these fields is the same as the corresponding fields for the original
language). The entry area can be partially masked, leaving seen only the
language and the title.</p>
<div class="photo"><a href="/public/photos/dotclear/dctranslations-entry.png"><img src="/public/photos/dotclear/.dctranslations-entry_m.jpg" alt="Compose a post in several languages" title="Compose a post in several languages" /></a><div class="legende">Compose a post in several languages</div></div>
<p>To delete an already-entered translation, check the dedicated check
box beside the translation entry. The translation will not be deleted as
long as the page has not been saved.</p>
<p>The URL field will be filled automatically from the title, unless it
is entered manually. The URL of a post is:</p>
<ul>
<li>...nomdusite/tpost/lang/url-of-the-translation (translated post)</li>
<li>...nomdusite/opost/lang/url-of-the-post (original language)</li>
<li>...nomdusite/post/url-of-the-post (uses automatically the preferred language of the reader)</li>
</ul>
<h4>(Site-level) Translator</h4>
<p>Because nothing is really perfect, it is sometimes necessary to enter
manually some key elements for the translation. For example, the
translation of the tags, the widget titles (when it is not the default
title of those widgets), etc. need to be translated manually. The
preferences panel (Blog &gt; Translations) allows users with
the <em>editor role</em> to enter translations which, added to the
built-in translations of Dotclear, help to translate all the navigation
elements.</p>
<div class="photo"><a href="/public/photos/dotclear/dctranslations-preferences.png"><img src="/public/photos/dotclear/dctranslations-preferences.png" alt="Preferences panel for dctranslations" title="Preferences panel for dctranslations" /></a><div class="legende">Preferences panel for dctranslations</div></div>
<p>The administration panel is in two parts, one for the multilingual
settings, and another one for the translation elements. The blog
settings is made in two very simple parts: a value for the list of
allowed languages (available for the navigation). The second value is
the fallback language, if ever no preferred language of the reader is an
allowed language. This value must be part of the allowed languages, of
course. The default values are "en,fr" (English and French, the best
supported languages in Dotclear) and "en" (English).</p>
<div class="photo"><a href="/public/photos/dotclear/dctranslations-admin.png" title="The dictionary of translated terms"><img src="/public/photos/dotclear/.dctranslations-admin_m.jpg" title="The dictionary of translated terms" alt="The dictionary of translated terms" /></a><div class="legende">The dictionary of translated terms</div></div>
<p>The second part displays the translation elements. To translate an
element, it is sufficient that the expression in the first column
("String"), and that the corresponding translation be put in the
corresponding column.</p>
<p>For example, if the tag "calendar" does exist, I can add the french
translation "agenda" in the "Français" column, and the german
translation in the "Deutsch" column. I leave the english column empty,
since there is nothing to translate. I could have chosen to use the tag
"agenda" and translate it in English and German by "calendar" and
"Kalendar".</p>
<p>To add a new entry, there is always an empty line in page 1 (the
translations are displayed 16 by 16). A small menu allows to display
individual lines for every category title and every tag (the complete
list of untranslated terms is displayed below).</p>
<p>To delete a translation, the first column "String" has to be left
intact, and all the translations have to be deleted. A better interface
is in the works.</p>
<p>L'effet est normalement visible immédiatement en zone publique.</p>
<h4>Administrator</h4>
<p>As explained above, all necessary extensions must be installed (also the ones that are recommended), that the blog's language is set to the empty string. The widgets must also be replaced by their equivalents (the translated ones from the translatedwidgets plugin). The "editor" permission must be bestowed upon the users that are allowed to take care of the interface translation (not the posts, but the tags and other small things). The blog administrators do not require this permission.</p>
<div class="photo"><a href="/public/photos/dotclear/dctranslations-widget1.png"><img src="/public/photos/dotclear/dctranslations-widget1.png" alt="New widgets" title="New widgets" /></a><div class="legende">New widgets</div></div>
<p>Three widgets are available and can be added to the widgets sets. The first one, active only on posts or static pages, lists all the existing translations of the post.</p>
<div class="photo"><a href="/public/photos/dotclear/dctranslations-translation-fr.png"><img src="/public/photos/dotclear/dctranslations-translation-fr.png" alt="Translations list (French)" title="Translations list (French)" /></a><div class="legende">Translations list (French)</div></div>
<div class="photo"><a href="/public/photos/dotclear/dctranslations-translation-de.png"><img src="/public/photos/dotclear/dctranslations-translation-de.png" alt="Translations list (German)" title="Translations list (German)" /></a><div class="legende">Translations list (German)</div></div>
<p>The second one, "Navigation language", allows the reader of the blog to choose a language for navigation (it supersedes the preferred languages list) without modification of the preferences of the browser. However, it may be necessary sometimes to reload previously-read pages overriding the browser's cache, most often by using shift-F5 or quitting the browser and relaunching it.</p>
<div class="photo"><a href="/public/photos/dotclear/dctranslations-widget-fr.png"><img src="/public/photos/dotclear/.dctranslations-widget-fr_m.jpg" alt="Navigation widget (French)" title="Navigation widget (French)" /></a><div class="legende">Navigation widget (French)</div></div>
<div class="photo"><a href="/public/photos/dotclear/dctranslations-widget-de.png"><img src="/public/photos/dotclear/.dctranslations-widget-de_m.jpg" alt="Navigation widget (German)" title="Navigation widget (German)" /></a><div class="legende">Navigation widget (German)</div></div>
<div class="photo"><a href="/public/photos/dotclear/dctranslations-widget-en.png"><img src="/public/photos/dotclear/.dctranslations-widget-en_m.jpg" alt="Navigation widget (English)" title="Navigation widget (English)" /></a><div class="legende">Navigation widget (English)</div></div>
<p>The third widget allows to replace the original language widget (still called "Languages of the blog") by a similar one that can select articles not only if their original language is the one selected, but all articles that have been translated (or whose original language is) in some language. This new widget is called "Only show posts in ...". The other one is kept for historical reasons.</p>
<div class="bug"><h3>To tell me about a bug or helping this plugin</h3><p>The best way is to contact me <a href="http://jean-christophe.dubacq.fr/pages/Contact">by mail</a> (for a bug) or leave a comment (telling me you tested this extension) at the maintenance page. In case of an update, I will modify the maintenance page accordingly.</p></div><div class="changelog"><p>Note: this changelog is not complete, automatically generated and probably not even informative before 2009.</p><ul><li>Local SVN release 372 (jcdubacq,2009-04-30)<ul> <li>Tabs in administration area</li> <li>List of updated words</li> <li>Clean up code</li> <li>New screenshots</li> </ul></li> <li>Local SVN release 364 (jcdubacq,2009-04-28)<ul> <li>Allow deleting a translation in a more natural way</li> <li>Allow several translations in one edition cycle</li> </ul></li> <li>Local SVN release 358 (jcdubacq,2009-04-25)<ul> <li>Remove unnecessary tweaks for translatedwidgets</li> </ul></li> <li>Local SVN release 343 (jcdubacq,2009-04-22)<ul> <li>Reindent code</li> <li>Change licence to GPL version 2.0</li> </ul></li> <li>Local SVN release 322 (jcdubacq,2009-02-07)<ul> <li>Translate blog name and description also</li> </ul></li> <li>Local SVN release 305 (jcdubacq,2009-01-27)<ul> <li>Fix (mostly german) locales</li> </ul></li> <li>Local SVN release 299 (jcdubacq,2009-01-26)<ul> <li>Adapt to version 0.3 of stacker (behavior initStacker)</li> </ul></li> <li>Local SVN release 278 (jcdubacq,2009-01-01)<ul> <li>Finalize documentation, make new release utility, release</li> </ul></li> <li>Local SVN release 275 (jcdubacq,2008-12-26)<ul> <li>Reinstate version keyword</li> </ul></li> <li>Local SVN release 274 (jcdubacq,2008-12-26)<ul> <li>Delete svn counter</li> </ul></li> <li>Local SVN release 273 (jcdubacq,2008-12-26)<ul> <li>Fix tag feed, add SVN revision to number</li> </ul></li> <li>Local SVN release 260 (jcdubacq,2008-11-18)<ul> <li>Merge supportedlang and dctranslations</li> </ul></li> <li>Local SVN release 242 (jcdubacq,2008-11-11)<ul> <li>Reformatting</li> </ul></li> <li>Local SVN release 168 (jcdubacq,2008-05-06)<ul> <li>Order plugins and themes</li> </ul></li> <li>Local SVN release 43 (jcdubacq,2008-02-15)<ul> <li>Adding all other personal plugins</li> </ul></li></ul></div>
<h3>To do</h3>
<ul>
<li><del>Allow deleting a translation in a more natural way.</del></li>
<li><del>Allow several translations in one edition cycle.</del></li>
<li>translatedwidget: make the Text plugin care for several languages.</li>
</ul>
</body>
</html>
